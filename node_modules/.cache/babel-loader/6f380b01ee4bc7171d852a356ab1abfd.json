{"ast":null,"code":"import _objectSpread from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{ADD_PATIENT,DELETE_PATIENT,EDIT_PATIENT,SET_PATIENTS}from'./types';var initialState=[];export function patientsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_PATIENTS:{return _toConsumableArray(action.payload);}case EDIT_PATIENT:{var editedPatients=state.map(function(el){return el.id!==action.payload.id?el:action.payload;});return _toConsumableArray(editedPatients);}case ADD_PATIENT:{var id=getNewId(state);return[_objectSpread(_objectSpread({},action.payload),{},{id:id})].concat(_toConsumableArray(state));}case DELETE_PATIENT:{var patients=state.filter(function(el){return el.id!==action.id;});return _toConsumableArray(patients);}default:{return state;}}}function getNewId(patients){return patients.map(function(patient){return patient.id;}).map(function(id){return parseInt(id);}).reduce(function(largest,id){return Math.max(largest,id+1);},-1).toString();}","map":{"version":3,"sources":["/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/redux/patients/reducer.ts"],"names":["ADD_PATIENT","DELETE_PATIENT","EDIT_PATIENT","SET_PATIENTS","initialState","patientsReducer","state","action","type","payload","editedPatients","map","el","id","getNewId","patients","filter","patient","parseInt","reduce","largest","Math","max","toString"],"mappings":"qVAAA,OAASA,WAAT,CAAsBC,cAAtB,CAAsCC,YAAtC,CAAqEC,YAArE,KAAyF,SAAzF,CAGA,GAAMC,CAAAA,YAAwB,CAAG,EAAjC,CAEA,MAAO,SAASC,CAAAA,eAAT,EAGO,IAFZC,CAAAA,KAEY,2DAFQF,YAER,IADZG,CAAAA,MACY,2CACZ,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKL,CAAAA,YAAL,CAAmB,CACjB,0BAAWI,MAAM,CAACE,OAAlB,EACD,CAED,IAAKP,CAAAA,YAAL,CAAmB,CACjB,GAAMQ,CAAAA,cAAc,CAAGJ,KAAK,CAACK,GAAN,CAAU,SAACC,EAAD,QAASA,CAAAA,EAAE,CAACC,EAAH,GAAUN,MAAM,CAACE,OAAP,CAAeI,EAAzB,CAA8BD,EAA9B,CAAmCL,MAAM,CAACE,OAAnD,EAAV,CAAvB,CAEA,0BAAWC,cAAX,EACD,CAED,IAAKV,CAAAA,WAAL,CAAkB,CAChB,GAAMa,CAAAA,EAAE,CAAGC,QAAQ,CAACR,KAAD,CAAnB,CAEN,sCAAaC,MAAM,CAACE,OAApB,MAA6BI,EAAE,CAAFA,EAA7B,8BAAsCP,KAAtC,GAAkD,CAE9C,IAAKL,CAAAA,cAAL,CAAqB,CACnB,GAAMc,CAAAA,QAAQ,CAAGT,KAAK,CAACU,MAAN,CAAa,SAACJ,EAAD,QAAQA,CAAAA,EAAE,CAACC,EAAH,GAAUN,MAAM,CAACM,EAAzB,EAAb,CAAjB,CACA,0BAAWE,QAAX,EACD,CAED,QAAS,CACP,MAAOT,CAAAA,KAAP,CACD,CAvBH,CAyBD,CAED,QAASQ,CAAAA,QAAT,CAAkBC,QAAlB,CAAwC,CACtC,MAAOA,CAAAA,QAAQ,CACZJ,GADI,CACA,SAACM,OAAD,QAAaA,CAAAA,OAAO,CAACJ,EAArB,EADA,EAEJF,GAFI,CAEA,SAACE,EAAD,QAAQK,CAAAA,QAAQ,CAACL,EAAD,CAAhB,EAFA,EAGJM,MAHI,CAGG,SAACC,OAAD,CAAUP,EAAV,QAAiBQ,CAAAA,IAAI,CAACC,GAAL,CAASF,OAAT,CAAkBP,EAAE,CAAG,CAAvB,CAAjB,EAHH,CAG+C,CAAC,CAHhD,EAIJU,QAJI,EAAP,CAKD","sourcesContent":["import { ADD_PATIENT, DELETE_PATIENT, EDIT_PATIENT, PatientsActions, SET_PATIENTS } from './types';\nimport { IPatient } from '../../interfaces/patient';\n\nconst initialState: IPatient[] = [];\n\nexport function patientsReducer(\n  state: IPatient[] = initialState,\n  action: PatientsActions\n): IPatient[] {\n  switch (action.type) {\n    case SET_PATIENTS: {\n      return [...action.payload];\n    }\n\n    case EDIT_PATIENT: {\n      const editedPatients = state.map((el) => (el.id !== action.payload.id ? el : action.payload));\n\n      return [...editedPatients];\n    }\n\n    case ADD_PATIENT: {\n      const id = getNewId(state);\n      \nreturn [{ ...action.payload, id }, ...state];    }\n\n    case DELETE_PATIENT: {\n      const patients = state.filter((el) => el.id !== action.id);\n      return [...patients];\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nfunction getNewId(patients: IPatient[]) {\n  return patients\n    .map((patient) => patient.id)\n    .map((id) => parseInt(id))\n    .reduce((largest, id) => Math.max(largest, id + 1), -1)\n    .toString();\n}\n"]},"metadata":{},"sourceType":"module"}