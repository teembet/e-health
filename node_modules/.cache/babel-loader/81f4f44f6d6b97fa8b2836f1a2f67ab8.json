{"ast":null,"code":"import\"antd/es/modal/style\";import _Modal from\"antd/es/modal\";import _toConsumableArray from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"antd/es/button/style\";import _Button from\"antd/es/button\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import React,{useState}from'react';import{useFormik}from'formik';import*as Yup from'yup';import BillingTable from'../../medic/components/BillingTable';import PageAction from'../../../layout/components/page-action/PageAction';import{hasErrorFactory}from'../../../utils/hasError';import{useGetPayments}from'../../../hooks/useGetBillings';import{usePageData}from'../../../hooks/usePage';var pageData={title:'Payments',fulFilled:true,breadcrumbs:[{title:'Medicine',route:'default-dashboard'},{title:'Payments'}]};var Item=_Form.Item;var paymentScheme=Yup.object({billNo:Yup.string().required(),patient:Yup.string().required(),doctor:Yup.string().required(),billDate:Yup.string().required(),charges:Yup.string().required(),tax:Yup.string().required(),discount:Yup.string().required(),total:Yup.string().required()});var PaymentForm=function PaymentForm(_ref){var _onSubmit=_ref.onSubmit,onClose=_ref.onClose;var _useFormik=useFormik({initialValues:{},initialErrors:{empty:null},validationSchema:paymentScheme,onSubmit:function onSubmit(values){_onSubmit(values);onClose();}}),handleSubmit=_useFormik.handleSubmit,handleChange=_useFormik.handleChange,isValid=_useFormik.isValid,errors=_useFormik.errors,touched=_useFormik.touched,handleBlur=_useFormik.handleBlur;var hasError=hasErrorFactory(touched,errors);var handleClose=function handleClose(){onClose();};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(_Form,{layout:\"vertical\"},/*#__PURE__*/React.createElement(Item,null,/*#__PURE__*/React.createElement(_Input,{type:\"number\",name:\"billNo\",placeholder:\"Bill NO\",onBlur:handleBlur,onChange:handleChange,className:hasError('billNo')})),/*#__PURE__*/React.createElement(Item,null,/*#__PURE__*/React.createElement(_Input,{name:\"patient\",placeholder:\"Patient\",onBlur:handleBlur,onChange:handleChange,className:hasError('patient')})),/*#__PURE__*/React.createElement(Item,null,/*#__PURE__*/React.createElement(_Input,{name:\"doctor\",placeholder:\"Doctor\",onBlur:handleBlur,onChange:handleChange,className:hasError('doctor')})),/*#__PURE__*/React.createElement(Item,null,/*#__PURE__*/React.createElement(_Input,{name:\"billDate\",placeholder:\"Date\",onBlur:handleBlur,onChange:handleChange,className:hasError('billDate')})),/*#__PURE__*/React.createElement(Item,null,/*#__PURE__*/React.createElement(_Input,{name:\"charges\",placeholder:\"Charges\",onBlur:handleBlur,onChange:handleChange,className:hasError('charges')})),/*#__PURE__*/React.createElement(Item,null,/*#__PURE__*/React.createElement(_Input,{name:\"tax\",placeholder:\"Tax\",onBlur:handleBlur,onChange:handleChange,className:hasError('tax')})),/*#__PURE__*/React.createElement(Item,null,/*#__PURE__*/React.createElement(_Input,{name:\"discount\",placeholder:\"Discount\",onBlur:handleBlur,onChange:handleChange,className:hasError('discount')})),/*#__PURE__*/React.createElement(Item,null,/*#__PURE__*/React.createElement(_Input,{name:\"total\",placeholder:\"Total\",onBlur:handleBlur,onChange:handleChange,className:hasError('total')}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer d-flex justify-content-between mt-3\"},/*#__PURE__*/React.createElement(_Button,{danger:true,onClick:handleClose},\"Cancel\"),/*#__PURE__*/React.createElement(_Button,{htmlType:\"submit\",disabled:!isValid,type:\"primary\",onClick:function onClick(){return handleSubmit();}},\"Add\")));};var Payments=function Payments(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisibility=_useState2[1];var _useGetPayments=useGetPayments(),_useGetPayments2=_slicedToArray(_useGetPayments,2),billings=_useGetPayments2[0],setBillings=_useGetPayments2[1];usePageData(pageData);var handleSubmit=function handleSubmit(payment){setBillings([payment].concat(_toConsumableArray(billings)));};var handleClose=function handleClose(){return setVisibility(false);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BillingTable,{billings:billings,type:\"none\",pagination:{hideOnSinglePage:true}}),/*#__PURE__*/React.createElement(PageAction,{onClick:function onClick(){return setVisibility(true);},icon:\"icofont-plus\",type:\"primary\"}),/*#__PURE__*/React.createElement(_Modal,{title:/*#__PURE__*/React.createElement(\"h5\",{className:\"m-0\"},\"Add Payment\"),onCancel:handleClose,visible:visible,destroyOnClose:true,footer:null},/*#__PURE__*/React.createElement(PaymentForm,{onSubmit:handleSubmit,onClose:handleClose})));};export default Payments;","map":{"version":3,"sources":["/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/pages/dashboards/payments/Payments.tsx"],"names":["React","useState","useFormik","Yup","BillingTable","PageAction","hasErrorFactory","useGetPayments","usePageData","pageData","title","fulFilled","breadcrumbs","route","Item","paymentScheme","object","billNo","string","required","patient","doctor","billDate","charges","tax","discount","total","PaymentForm","onSubmit","onClose","initialValues","initialErrors","empty","validationSchema","values","handleSubmit","handleChange","isValid","errors","touched","handleBlur","hasError","handleClose","Payments","visible","setVisibility","billings","setBillings","payment","hideOnSinglePage"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nimport { Button, Form, Input, Modal } from 'antd';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\n\nimport BillingTable from '../../medic/components/BillingTable';\nimport PageAction from '../../../layout/components/page-action/PageAction';\n\nimport { hasErrorFactory } from '../../../utils/hasError';\nimport { useGetPayments } from '../../../hooks/useGetBillings';\nimport { usePageData } from '../../../hooks/usePage';\n\nimport { IPageData } from '../../../interfaces/page';\n\nconst pageData: IPageData = {\n  title: 'Payments',\n  fulFilled: true,\n  breadcrumbs: [\n    {\n      title: 'Medicine',\n      route: 'default-dashboard'\n    },\n    {\n      title: 'Payments'\n    }\n  ]\n};\n\nconst Item = Form.Item;\n\nconst paymentScheme = Yup.object({\n  billNo: Yup.string().required(),\n  patient: Yup.string().required(),\n  doctor: Yup.string().required(),\n  billDate: Yup.string().required(),\n  charges: Yup.string().required(),\n  tax: Yup.string().required(),\n  discount: Yup.string().required(),\n  total: Yup.string().required()\n});\n\nconst PaymentForm = ({ onSubmit, onClose }) => {\n  const { handleSubmit, handleChange, isValid, errors, touched, handleBlur } = useFormik<any>({\n    initialValues: {},\n    initialErrors: { empty: null },\n    validationSchema: paymentScheme,\n    onSubmit: (values) => {\n      onSubmit(values);\n      onClose();\n    }\n  });\n\n  const hasError = hasErrorFactory(touched, errors);\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  return (\n    <>\n      <Form layout='vertical'>\n        <Item>\n          <Input\n            type='number'\n            name='billNo'\n            placeholder='Bill NO'\n            onBlur={handleBlur}\n            onChange={handleChange}\n            className={hasError('billNo')}\n          />\n        </Item>\n\n        <Item>\n          <Input\n            name='patient'\n            placeholder='Patient'\n            onBlur={handleBlur}\n            onChange={handleChange}\n            className={hasError('patient')}\n          />\n        </Item>\n\n        <Item>\n          <Input\n            name='doctor'\n            placeholder='Doctor'\n            onBlur={handleBlur}\n            onChange={handleChange}\n            className={hasError('doctor')}\n          />\n        </Item>\n\n        <Item>\n          <Input\n            name='billDate'\n            placeholder='Date'\n            onBlur={handleBlur}\n            onChange={handleChange}\n            className={hasError('billDate')}\n          />\n        </Item>\n\n        <Item>\n          <Input\n            name='charges'\n            placeholder='Charges'\n            onBlur={handleBlur}\n            onChange={handleChange}\n            className={hasError('charges')}\n          />\n        </Item>\n\n        <Item>\n          <Input\n            name='tax'\n            placeholder='Tax'\n            onBlur={handleBlur}\n            onChange={handleChange}\n            className={hasError('tax')}\n          />\n        </Item>\n\n        <Item>\n          <Input\n            name='discount'\n            placeholder='Discount'\n            onBlur={handleBlur}\n            onChange={handleChange}\n            className={hasError('discount')}\n          />\n        </Item>\n\n        <Item>\n          <Input\n            name='total'\n            placeholder='Total'\n            onBlur={handleBlur}\n            onChange={handleChange}\n            className={hasError('total')}\n          />\n        </Item>\n      </Form>\n\n      <div className='modal-footer d-flex justify-content-between mt-3'>\n        <Button danger onClick={handleClose}>\n          Cancel\n        </Button>\n\n        <Button htmlType='submit' disabled={!isValid} type='primary' onClick={() => handleSubmit()}>\n          Add\n        </Button>\n      </div>\n    </>\n  );\n};\n\nconst Payments = () => {\n  const [visible, setVisibility] = useState<boolean>(false);\n  const [billings, setBillings] = useGetPayments();\n  usePageData(pageData);\n\n  const handleSubmit = (payment) => {\n    setBillings([payment, ...billings]);\n  };\n\n  const handleClose = () => setVisibility(false);\n\n  return (\n    <>\n      <BillingTable billings={billings} type='none' pagination={{ hideOnSinglePage: true }} />\n      <PageAction onClick={() => setVisibility(true)} icon='icofont-plus' type='primary' />\n\n      <Modal\n        title={<h5 className='m-0'>Add Payment</h5>}\n        onCancel={handleClose}\n        visible={visible}\n        destroyOnClose\n        footer={null}\n      >\n        <PaymentForm onSubmit={handleSubmit} onClose={handleClose} />\n      </Modal>\n    </>\n  );\n};\n\nexport default Payments;\n"]},"metadata":{},"sourceType":"module"}