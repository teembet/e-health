{"ast":null,"code":"import\"antd/es/modal/style\";import _Modal from\"antd/es/modal\";import _slicedToArray from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import Footer from'../components/footer/Footer';import SettingsForm from'../components/settings/SettingsForm';import{updateSettings,resetSettings}from'../../redux/settings/actions';import{fetchPatients,setPatients}from'../../redux/patients/actions';import className from'../../utils/class-names';import'./BaseLayout.scss';var patientsUrl='/data/patients.json';var BaseLayout=function BaseLayout(_ref){var nav=_ref.nav,topNav=_ref.topNav,sideNav=_ref.sideNav,orientation=_ref.orientation,children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showSettings=_useState2[0],setShowSettings=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),scrolled=_useState4[0],setScrolled=_useState4[1];var dispatch=useDispatch();var sidebarOpened=useSelector(function(state){return state.settings.sidebarOpened;});var settings=useSelector(function(state){return state.settings;});var pageData=useSelector(function(state){return state.pageData;});var patientsList=useSelector(function(state){return state.patients;});useEffect(function(){console.log(patientsList,\"patientlist\");patientsList.length>0?dispatch(setPatients(patientsList)):dispatch(fetchPatients(patientsUrl));},[patientsUrl]);var handleScroll=function handleScroll(event){setScrolled(event.target.scrollTop>0);};var mainContentClasses=className({'main-content':true,loaded:pageData.loaded,fulfilled:pageData.fulFilled});var mainContentWrapClasses=className({'main-content-wrap':true});var onUpdateSettings=function onUpdateSettings(settings){return dispatch(updateSettings(settings));};var toggleSettings=function toggleSettings(){return setShowSettings(!showSettings);};var onResetSettings=function onResetSettings(){return dispatch(resetSettings());};var contentOverlay=/*#__PURE__*/React.createElement(\"div\",{className:className({'content-overlay':true,show:sidebarOpened})});return/*#__PURE__*/React.createElement(\"div\",{className:\"layout \".concat(orientation)},/*#__PURE__*/React.createElement(\"div\",{className:\"app-container \".concat(settings.boxed&&'boxed',\" \").concat(scrolled&&'scrolled')},nav,topNav,sideNav,/*#__PURE__*/React.createElement(\"main\",{onScroll:handleScroll,className:mainContentClasses},/*#__PURE__*/React.createElement(\"div\",{className:\"app-loader\"},/*#__PURE__*/React.createElement(\"i\",{className:\"icofont-spinner-alt-4 rotate\"})),/*#__PURE__*/React.createElement(\"div\",{className:mainContentWrapClasses},pageData&&!!pageData.title&&/*#__PURE__*/React.createElement(\"header\",{className:\"page-header\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"page-title\"},pageData.title)),children)),/*#__PURE__*/React.createElement(Footer,{breadcrumbs:pageData.breadcrumbs,layout:settings.layout,boxed:settings.boxed,loaded:pageData.loaded,openModal:toggleSettings}),contentOverlay,/*#__PURE__*/React.createElement(_Modal,{visible:showSettings,onCancel:toggleSettings,footer:null,title:/*#__PURE__*/React.createElement(\"h3\",{className:\"m-0\",style:{opacity:0.8}},\"Settings\")},/*#__PURE__*/React.createElement(SettingsForm,{settings:settings,onResetSettings:onResetSettings,onUpdateSetting:onUpdateSettings}))));};export default BaseLayout;","map":{"version":3,"sources":["/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/layout/base/BaseLayout.tsx"],"names":["React","useEffect","useState","useDispatch","useSelector","Footer","SettingsForm","updateSettings","resetSettings","fetchPatients","setPatients","className","patientsUrl","BaseLayout","nav","topNav","sideNav","orientation","children","showSettings","setShowSettings","scrolled","setScrolled","dispatch","sidebarOpened","state","settings","pageData","patientsList","patients","console","log","length","handleScroll","event","target","scrollTop","mainContentClasses","loaded","fulfilled","fulFilled","mainContentWrapClasses","onUpdateSettings","toggleSettings","onResetSettings","contentOverlay","show","boxed","title","breadcrumbs","layout","opacity"],"mappings":"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","sourcesContent":["import React, { ReactNode, useEffect, useState } from 'react';\n\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { Modal } from 'antd';\n\nimport Footer from '../components/footer/Footer';\nimport SettingsForm from '../components/settings/SettingsForm';\n\nimport { updateSettings, resetSettings } from '../../redux/settings/actions';\nimport { fetchPatients, setPatients } from '../../redux/patients/actions';\n\nimport className from '../../utils/class-names';\n\nimport { IAppSettings } from '../../interfaces/settings';\nimport { IAppState } from '../../interfaces/app-state';\nimport { IPageData } from '../../interfaces/page';\n\nimport './BaseLayout.scss';\nimport { AppState } from '../../redux/store';\n\nconst patientsUrl = '/data/patients.json';\n\ntype Props = {\n  nav: ReactNode;\n  sideNav?: ReactNode;\n  topNav?: ReactNode;\n  children: ReactNode;\n  orientation: 'vertical' | 'horizontal';\n};\n\nconst BaseLayout = ({ nav, topNav, sideNav, orientation, children }: Props) => {\n  const [showSettings, setShowSettings] = useState(false);\n  const [scrolled, setScrolled] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const sidebarOpened = useSelector<IAppState, boolean>((state) => state.settings.sidebarOpened);\n  const settings = useSelector<IAppState, IAppSettings>((state) => state.settings);\n  const pageData = useSelector<IAppState, IPageData>((state) => state.pageData);\n  const patientsList=useSelector((state:AppState)=>state.patients)\n\n  useEffect(() => {\nconsole.log(patientsList,\"patientlist\")\n   patientsList.length>0?dispatch(setPatients(patientsList)): dispatch(fetchPatients(patientsUrl));\n  }, [patientsUrl]);\n\n  const handleScroll = (event) => {\n    setScrolled(event.target.scrollTop > 0);\n  };\n\n  const mainContentClasses = className({\n    'main-content': true,\n    loaded: pageData.loaded,\n    fulfilled: pageData.fulFilled\n  });\n\n  const mainContentWrapClasses = className({\n    'main-content-wrap': true\n  });\n\n  const onUpdateSettings = (settings) => dispatch(updateSettings(settings));\n  const toggleSettings = () => setShowSettings(!showSettings);\n  const onResetSettings = () => dispatch(resetSettings());\n\n  const contentOverlay = (\n    <div\n      className={className({\n        'content-overlay': true,\n        show: sidebarOpened\n      })}\n    />\n  );\n\n  return (\n    <div className={`layout ${orientation}`}>\n      <div className={`app-container ${settings.boxed && 'boxed'} ${scrolled && 'scrolled'}`}>\n        {nav}\n\n        {topNav}\n\n        {sideNav}\n\n        <main onScroll={handleScroll} className={mainContentClasses}>\n          <div className='app-loader'>\n            <i className='icofont-spinner-alt-4 rotate' />\n          </div>\n\n          <div className={mainContentWrapClasses}>\n            {pageData && !!pageData.title && (\n              <header className='page-header'>\n                <h1 className='page-title'>{pageData.title}</h1>\n              </header>\n            )}\n            {children}\n          </div>\n        </main>\n\n        <Footer\n          breadcrumbs={pageData.breadcrumbs}\n          layout={settings.layout}\n          boxed={settings.boxed}\n          loaded={pageData.loaded}\n          openModal={toggleSettings}\n        />\n        {contentOverlay}\n        <Modal\n          visible={showSettings}\n          onCancel={toggleSettings}\n          footer={null}\n          title={\n            <h3 className='m-0' style={{ opacity: 0.8 }}>\n              Settings\n            </h3>\n          }\n        >\n          <SettingsForm\n            settings={settings}\n            onResetSettings={onResetSettings}\n            onUpdateSetting={onUpdateSettings}\n          />\n        </Modal>\n      </div>\n    </div>\n  );\n};\n\nexport default BaseLayout;\n"]},"metadata":{},"sourceType":"module"}