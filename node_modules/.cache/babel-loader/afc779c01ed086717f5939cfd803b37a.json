{"ast":null,"code":"import { userConstants } from './types';\nimport { alertActions } from '../alert/action';\nexport function login(username, password) {\n  // return the promise using fetch which adds to localstorage on resolve\n  const user = {\n    username,\n    password\n  };\n\n  function request(user) {\n    return {\n      type: userConstants.LOGIN_REQUEST,\n      user: user\n    };\n  }\n\n  function success(user) {\n    return {\n      type: userConstants.LOGIN_SUCCESS,\n      user: user\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: userConstants.LOGIN_FAILURE,\n      error\n    };\n  }\n\n  return async function dispatch(dispatch) {\n    dispatch(request(user));\n\n    try {\n      dispatch(alertActions.success(\"working\")); // const res = await userService.login(username, password);\n\n      dispatch(success(user));\n    } catch (err) {\n      console.log(err);\n      dispatch(alertActions.error(err));\n      dispatch(failure(err));\n    }\n  };\n}\nexport function register(user) {\n  // return the promise using fetch which dispatches appropriately \n  function request(user) {\n    return {\n      type: userConstants.REGISTER_REQUEST,\n      payload: user\n    };\n  }\n\n  function success(user) {\n    return {\n      type: userConstants.REGISTER_SUCCESS,\n      payload: user\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: userConstants.REGISTER_FAILURE,\n      error\n    };\n  }\n\n  return async function dispatch(dispatch) {\n    // dispatch(request(user));\n    try {\n      // const res = await userService.register(user);\n      dispatch(success(user));\n      createUser(user); // dispatch(alertActions.success(\"Registration successful\"))\n    } catch (err) {// console.log(err);\n      // dispatch(alertActions.error(err))\n      // dispatch(failure(err));\n    }\n  };\n}\n\nconst createUser = payload => {\n  return {\n    type: userConstants.USER_SAVE,\n    payload\n  };\n};\n\nconst logout = () => {\n  // complete this function\n  // userService.logout()\n  return {\n    type: userConstants.LOGOUT\n  };\n}; //   export const editPatient = (patient: IPatient): EditPatientAction => ({\n//     type: EDIT_PATIENT,\n//     payload: patient\n//   });\n//   export const fetchPatients = (url: string) => {\n//     return dispatch => {\n//       axios\n//         .get<IPatient[]>(url)\n//         .then(res => res.data)\n//         .then(data => {\n//           dispatch(setPatients(data));\n//         })\n//         .catch(err => console.error('Server connections error'));\n//     };","map":{"version":3,"sources":["/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/redux/auth/actions.ts"],"names":["userConstants","alertActions","login","username","password","user","request","type","LOGIN_REQUEST","success","LOGIN_SUCCESS","failure","error","LOGIN_FAILURE","dispatch","err","console","log","register","REGISTER_REQUEST","payload","REGISTER_SUCCESS","REGISTER_FAILURE","createUser","USER_SAVE","logout","LOGOUT"],"mappings":"AAAA,SAAQA,aAAR,QAA4B,SAA5B;AAEA,SAASC,YAAT,QAA6B,iBAA7B;AAOA,OAAO,SAASC,KAAT,CAAeC,QAAf,EAAyBC,QAAzB,EAAmC;AACtC;AACA,QAAMC,IAAI,GAAG;AAAEF,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAb;;AAEA,WAASE,OAAT,CAAiBD,IAAjB,EAAuB;AAAE,WAAO;AAAEE,MAAAA,IAAI,EAAEP,aAAa,CAACQ,aAAtB;AAAqCH,MAAAA,IAAI,EAACA;AAA1C,KAAP;AAAyD;;AAClF,WAASI,OAAT,CAAiBJ,IAAjB,EAAuB;AAAE,WAAO;AAAEE,MAAAA,IAAI,EAAEP,aAAa,CAACU,aAAtB;AAAqCL,MAAAA,IAAI,EAACA;AAA1C,KAAP;AAAyD;;AAClF,WAASM,OAAT,CAAiBC,KAAjB,EAAwB;AAAE,WAAO;AAAEL,MAAAA,IAAI,EAAEP,aAAa,CAACa,aAAtB;AAAqCD,MAAAA;AAArC,KAAP;AAAqD;;AAE/E,SAAO,eAAeE,QAAf,CAAwBA,QAAxB,EAAkC;AACrCA,IAAAA,QAAQ,CAACR,OAAO,CAACD,IAAD,CAAR,CAAR;;AACA,QAAI;AAGAS,MAAAA,QAAQ,CAACb,YAAY,CAACQ,OAAb,CAAqB,SAArB,CAAD,CAAR,CAHA,CAKA;;AACAK,MAAAA,QAAQ,CAACL,OAAO,CAACJ,IAAD,CAAR,CAAR;AACH,KAPD,CAOE,OAAOU,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAD,MAAAA,QAAQ,CAACb,YAAY,CAACW,KAAb,CAAmBG,GAAnB,CAAD,CAAR;AACAD,MAAAA,QAAQ,CAACH,OAAO,CAACI,GAAD,CAAR,CAAR;AACH;AACJ,GAdD;AAeH;AAGD,OAAO,SAASG,QAAT,CAAkBb,IAAlB,EAA4B;AAC/B;AACA,WAASC,OAAT,CAAiBD,IAAjB,EAAuB;AAAE,WAAO;AAAEE,MAAAA,IAAI,EAAEP,aAAa,CAACmB,gBAAtB;AAAwCC,MAAAA,OAAO,EAACf;AAAhD,KAAP;AAA+D;;AACxF,WAASI,OAAT,CAAiBJ,IAAjB,EAAuB;AAAE,WAAO;AAAEE,MAAAA,IAAI,EAAEP,aAAa,CAACqB,gBAAtB;AAAwCD,MAAAA,OAAO,EAACf;AAAhD,KAAP;AAA+D;;AACxF,WAASM,OAAT,CAAiBC,KAAjB,EAAwB;AAAE,WAAO;AAAEL,MAAAA,IAAI,EAAEP,aAAa,CAACsB,gBAAtB;AAAwCV,MAAAA;AAAxC,KAAP;AAAwD;;AAElF,SAAO,eAAeE,QAAf,CAAwBA,QAAxB,EAAkC;AACrC;AACA,QAAI;AAKA;AACAA,MAAAA,QAAQ,CAACL,OAAO,CAACJ,IAAD,CAAR,CAAR;AACAkB,MAAAA,UAAU,CAAClB,IAAD,CAAV,CAPA,CAQA;AACH,KATD,CASE,OAAOU,GAAP,EAAY,CACV;AACA;AACA;AACH;AACJ,GAhBD;AAkBH;;AAED,MAAMQ,UAAU,GAAEH,OAAD,IAAW;AACxB,SAAM;AACFb,IAAAA,IAAI,EAACP,aAAa,CAACwB,SADjB;AAEFJ,IAAAA;AAFE,GAAN;AAIH,CALD;;AAQA,MAAOK,MAAM,GAAC,MAAK;AACf;AACA;AACA,SAAO;AACHlB,IAAAA,IAAI,EAAEP,aAAa,CAAC0B;AADjB,GAAP;AAGH,CAND,C,CAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import {userConstants} from './types';\nimport axios from 'axios';\nimport { alertActions } from '../alert/action';\n\n\n\n  \n\n  \nexport function login(username, password) {\n    // return the promise using fetch which adds to localstorage on resolve\n    const user = { username, password }\n\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user:user } }\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user:user } }\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\n\n    return async function dispatch(dispatch) {\n        dispatch(request(user));\n        try {\n           \n            \n            dispatch(alertActions.success(\"working\"))\n        \n            // const res = await userService.login(username, password);\n            dispatch(success(user));\n        } catch (err) {\n            console.log(err);\n            dispatch(alertActions.error(err))\n            dispatch(failure(err));\n        }\n    }\n}\n  \n\nexport function register(user:any) {\n    // return the promise using fetch which dispatches appropriately \n    function request(user) { return { type: userConstants.REGISTER_REQUEST, payload:user } }\n    function success(user) { return { type: userConstants.REGISTER_SUCCESS, payload:user } }\n    function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\n\n    return async function dispatch(dispatch) {\n        // dispatch(request(user));\n        try {\n\n\n           \n\n            // const res = await userService.register(user);\n            dispatch(success(user));\n            createUser(user);\n            // dispatch(alertActions.success(\"Registration successful\"))\n        } catch (err) {\n            // console.log(err);\n            // dispatch(alertActions.error(err))\n            // dispatch(failure(err));\n        }\n    }\n\n}\n\nconst createUser=(payload)=>{\n    return{\n        type:userConstants.USER_SAVE,\n        payload\n    }\n}\n\n\nconst  logout=()=> {\n    // complete this function\n    // userService.logout()\n    return {\n        type: userConstants.LOGOUT\n    }\n}\n  \n//   export const editPatient = (patient: IPatient): EditPatientAction => ({\n//     type: EDIT_PATIENT,\n//     payload: patient\n//   });\n  \n//   export const fetchPatients = (url: string) => {\n//     return dispatch => {\n//       axios\n//         .get<IPatient[]>(url)\n//         .then(res => res.data)\n//         .then(data => {\n//           dispatch(setPatients(data));\n//         })\n//         .catch(err => console.error('Server connections error'));\n//     };\n  "]},"metadata":{},"sourceType":"module"}