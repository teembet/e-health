{"ast":null,"code":"import\"antd/es/divider/style\";import _Divider from\"antd/es/divider\";import\"antd/es/button/style\";import _Button from\"antd/es/button\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import _defineProperty from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"antd/es/select/style\";import _Select from\"antd/es/select\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import React,{useState}from'react';import{useFormik}from'formik';import ImageLoader from'../../layout/components/patients/ImageLoader';import{usePageData}from'../../hooks/usePage';import{useGetUser}from'../../hooks/useGetUser';var pageData={title:'Edit account',fulFilled:true,breadcrumbs:[{title:'Apps',route:'default-dashboard'},{title:'Service Pages ',route:'default-dashboard'},{title:'Edit Account'}]};var FormItem=_Form.Item;var Option=_Select.Option;var UserAvatar=function UserAvatar(_ref){var src=_ref.src,_ref$className=_ref.className,className=_ref$className===void 0?null:_ref$className;return/*#__PURE__*/React.createElement(\"div\",{className:\"avatar-wrapper \".concat(className)},/*#__PURE__*/React.createElement(ImageLoader,{src:src,size:100}));};var AccountForm=function AccountForm(_ref2){var user=_ref2.user;var _useState=useState(_objectSpread({},user)),_useState2=_slicedToArray(_useState,2),submitted=_useState2[0],setSubmitted=_useState2[1];var _useFormik=useFormik({onSubmit:function onSubmit(values){return setSubmitted(values);},initialValues:_objectSpread({},user)}),values=_useFormik.values,setValues=_useFormik.setValues,handleSubmit=_useFormik.handleSubmit;var handleChange=function handleChange(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};var handleSelectChange=function handleSelectChange(name){return function(value){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};};var hasChanged=Object.keys(values).some(function(key){return values[key]!==submitted[key];});return/*#__PURE__*/React.createElement(_Form,{layout:\"vertical\"},/*#__PURE__*/React.createElement(FormItem,{label:\"First Name\"},/*#__PURE__*/React.createElement(_Input,{name:\"name\",onChange:handleChange,placeholder:\"First Name\",defaultValue:values.name})),/*#__PURE__*/React.createElement(FormItem,{label:\"Last Name\"},/*#__PURE__*/React.createElement(_Input,{name:\"lastName\",onChange:handleChange,defaultValue:values.lastName,placeholder:\"Last Name\"})),/*#__PURE__*/React.createElement(FormItem,{label:\"Age\"},/*#__PURE__*/React.createElement(_Input,{type:\"number\",name:\"age\",onChange:handleChange,defaultValue:values.age,placeholder:\"Age\"})),/*#__PURE__*/React.createElement(FormItem,{label:\"Gender\"},/*#__PURE__*/React.createElement(_Select,{onChange:handleSelectChange('gender'),defaultValue:values.gender,placeholder:\"Gender\"},/*#__PURE__*/React.createElement(Option,{value:\"male\"},\"Male\"),/*#__PURE__*/React.createElement(Option,{value:\"female\"},\"Female\"))),/*#__PURE__*/React.createElement(FormItem,{label:\"Phone number\"},/*#__PURE__*/React.createElement(_Input,{type:\"number\",name:\"number\",onChange:handleChange,defaultValue:values.number,placeholder:\"Phone number\"})),/*#__PURE__*/React.createElement(FormItem,{label:\"Address\"},/*#__PURE__*/React.createElement(_Input.TextArea,{name:\"address\",onChange:handleChange,rows:4,defaultValue:values.address,placeholder:\"Address\"})),/*#__PURE__*/React.createElement(FormItem,{label:\"Last visit\"},/*#__PURE__*/React.createElement(_Input,{defaultValue:values.lastVisit,placeholder:\"Last visit\",readOnly:true})),/*#__PURE__*/React.createElement(FormItem,{label:\"Status\"},/*#__PURE__*/React.createElement(_Select,{defaultValue:values.status,placeholder:\"Status\",onChange:handleSelectChange('status')},/*#__PURE__*/React.createElement(Option,{value:\"approved\"},\"Approved\"),/*#__PURE__*/React.createElement(Option,{value:\"pending\"},\"Pending\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"elem-list justify-content-between\"},/*#__PURE__*/React.createElement(_Button,{disabled:!hasChanged,className:\"bg-color-success\",onClick:function onClick(){return handleSubmit();}},/*#__PURE__*/React.createElement(\"span\",{className:\"text-color-500\"},\"Save changes\")),/*#__PURE__*/React.createElement(_Button,{ghost:true,danger:true,className:\"ml-auto\"},\"Delete account\")));};var PasswordForm=function PasswordForm(){return/*#__PURE__*/React.createElement(_Form,{layout:\"vertical\"},/*#__PURE__*/React.createElement(FormItem,{label:\"Current password\"},/*#__PURE__*/React.createElement(_Input.Password,{placeholder:\"Current Password\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-sm-12\"},/*#__PURE__*/React.createElement(FormItem,{name:\"password\",label:\"New Password\",rules:[{required:true,message:'Please enter new password'}]},/*#__PURE__*/React.createElement(_Input.Password,{placeholder:\"New Password\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-sm-12\"},/*#__PURE__*/React.createElement(FormItem,{name:\"confirmPassword\",label:\"Confirm Password\",rules:[{required:true,message:'Please confirm your password!'},function(_ref3){var getFieldValue=_ref3.getFieldValue;return{validator:function validator(rule,value){if(!value||getFieldValue('password')===value){return Promise.resolve();}return Promise.reject('The two passwords that you entered do not match!');}};}]},/*#__PURE__*/React.createElement(_Input.Password,{placeholder:\"Confirm Password\"})))),/*#__PURE__*/React.createElement(_Button,{type:\"primary\"},\"Change password\"));};var EditAccountPage=function EditAccountPage(){var user=useGetUser();usePageData(pageData);return/*#__PURE__*/React.createElement(\"div\",{className:\"stack\",style:{maxWidth:690,margin:'0 auto'}},/*#__PURE__*/React.createElement(UserAvatar,{className:\"mt-0\",src:user.img}),/*#__PURE__*/React.createElement(AccountForm,{user:user}),/*#__PURE__*/React.createElement(_Divider,null),/*#__PURE__*/React.createElement(PasswordForm,null));};export default EditAccountPage;","map":{"version":3,"sources":["/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/pages/services/EditAccounPage.tsx"],"names":["React","useState","useFormik","ImageLoader","usePageData","useGetUser","pageData","title","fulFilled","breadcrumbs","route","FormItem","Item","Option","UserAvatar","src","className","AccountForm","user","submitted","setSubmitted","onSubmit","values","initialValues","setValues","handleSubmit","handleChange","e","target","name","value","handleSelectChange","hasChanged","Object","keys","some","key","lastName","age","gender","number","address","lastVisit","status","PasswordForm","required","message","getFieldValue","validator","rule","Promise","resolve","reject","EditAccountPage","maxWidth","margin","img"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, useState } from 'react';\n\nimport { useFormik } from 'formik';\nimport { Button, Divider, Form, Input, Select } from 'antd';\n\nimport ImageLoader from '../../layout/components/patients/ImageLoader';\n\nimport { usePageData } from '../../hooks/usePage';\nimport { useGetUser } from '../../hooks/useGetUser';\n\nimport { IPageData } from '../../interfaces/page';\nimport { IPatient } from '../../interfaces/patient';\n\nconst pageData: IPageData = {\n  title: 'Edit account',\n  fulFilled: true,\n  breadcrumbs: [\n    {\n      title: 'Apps',\n      route: 'default-dashboard'\n    },\n    {\n      title: 'Service Pages ',\n      route: 'default-dashboard'\n    },\n    {\n      title: 'Edit Account'\n    }\n  ]\n};\n\nconst FormItem = Form.Item;\nconst Option = Select.Option;\n\nconst UserAvatar = ({ src, className = null }) => {\n  return (\n    <div className={`avatar-wrapper ${className}`}>\n      <ImageLoader src={src} size={100} />\n    </div>\n  );\n};\n\nconst AccountForm = ({ user }) => {\n  const [submitted, setSubmitted] = useState({ ...user });\n  const { values, setValues, handleSubmit } = useFormik<IPatient>({\n    onSubmit: (values) => setSubmitted(values),\n    initialValues: { ...user }\n  });\n\n  const handleChange = (\n    e: ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>\n  ) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n  };\n\n  const handleSelectChange = (name) => (value) => {\n    setValues({ ...values, [name]: value });\n  };\n\n  const hasChanged = Object.keys(values).some((key) => values[key] !== submitted[key]);\n\n  return (\n    <Form layout='vertical'>\n      <FormItem label='First Name'>\n        <Input\n          name='name'\n          onChange={handleChange}\n          placeholder='First Name'\n          defaultValue={values.name}\n        />\n      </FormItem>\n\n      <FormItem label='Last Name'>\n        <Input\n          name='lastName'\n          onChange={handleChange}\n          defaultValue={values.lastName}\n          placeholder='Last Name'\n        />\n      </FormItem>\n\n      <FormItem label='Age'>\n        <Input\n          type='number'\n          name='age'\n          onChange={handleChange}\n          defaultValue={values.age}\n          placeholder='Age'\n        />\n      </FormItem>\n\n      <FormItem label='Gender'>\n        <Select\n          onChange={handleSelectChange('gender')}\n          defaultValue={values.gender}\n          placeholder='Gender'\n        >\n          <Option value='male'>Male</Option>\n          <Option value='female'>Female</Option>\n        </Select>\n      </FormItem>\n\n      <FormItem label='Phone number'>\n        <Input\n          type='number'\n          name='number'\n          onChange={handleChange}\n          defaultValue={values.number}\n          placeholder='Phone number'\n        />\n      </FormItem>\n\n      <FormItem label='Address'>\n        <Input.TextArea\n          name='address'\n          onChange={handleChange}\n          rows={4}\n          defaultValue={values.address}\n          placeholder='Address'\n        />\n      </FormItem>\n\n      <FormItem label='Last visit'>\n        <Input defaultValue={values.lastVisit} placeholder='Last visit' readOnly />\n      </FormItem>\n\n      <FormItem label='Status'>\n        <Select\n          defaultValue={values.status}\n          placeholder='Status'\n          onChange={handleSelectChange('status')}\n        >\n          <Option value='approved'>Approved</Option>\n          <Option value='pending'>Pending</Option>\n        </Select>\n      </FormItem>\n\n      <div className='elem-list justify-content-between'>\n        <Button disabled={!hasChanged} className='bg-color-success' onClick={() => handleSubmit()}>\n          <span className='text-color-500'>Save changes</span>\n        </Button>\n\n        <Button ghost danger className='ml-auto'>\n          Delete account\n        </Button>\n      </div>\n    </Form>\n  );\n};\n\nconst PasswordForm = () => {\n  return (\n    <Form layout='vertical'>\n      <FormItem label='Current password'>\n        <Input.Password placeholder='Current Password' />\n      </FormItem>\n\n      <div className='row'>\n        <div className='col-md-6 col-sm-12'>\n          <FormItem\n            name='password'\n            label='New Password'\n            rules={[{ required: true, message: 'Please enter new password' }]}\n          >\n            <Input.Password placeholder='New Password' />\n          </FormItem>\n        </div>\n\n        <div className='col-md-6 col-sm-12'>\n          <FormItem\n            name='confirmPassword'\n            label='Confirm Password'\n            rules={[\n              {\n                required: true,\n                message: 'Please confirm your password!'\n              },\n              ({ getFieldValue }) => ({\n                validator(rule, value) {\n                  if (!value || getFieldValue('password') === value) {\n                    return Promise.resolve();\n                  }\n                  return Promise.reject('The two passwords that you entered do not match!');\n                }\n              })\n            ]}\n          >\n            <Input.Password placeholder='Confirm Password' />\n          </FormItem>\n        </div>\n      </div>\n\n      <Button type='primary'>Change password</Button>\n    </Form>\n  );\n};\n\nconst EditAccountPage = () => {\n  const user = useGetUser();\n  usePageData(pageData);\n  return (\n    <div className='stack' style={{ maxWidth: 690, margin: '0 auto' }}>\n      <UserAvatar className='mt-0' src={user.img} />\n      <AccountForm user={user} />\n\n      <Divider />\n\n      <PasswordForm />\n    </div>\n  );\n};\n\nexport default EditAccountPage;\n"]},"metadata":{},"sourceType":"module"}