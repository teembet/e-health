{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{NavLink,Redirect}from'react-router-dom';import BaseLayout from'../base/BaseLayout';import Navbar from'../components/navbar/Navbar';import Menu from'../components/menu/Menu';import NavLoader from'../components/navbar/NavLoader';import AddPatient from'../components/patients/AddPatient';import Actions from'../components/actions/Actions';import{toggleSidebar}from'../../redux/settings/actions';import{useSearchData}from'../../hooks/useSearchData';import{useDispatch,useSelector}from'react-redux';import'./Vertical.scss';var VerticalLayout=function VerticalLayout(_ref){var children=_ref.children;var dispatch=useDispatch();var settings=useSelector(function(state){return state.settings;});var pageData=useSelector(function(state){return state.pageData;});var searchData=useSearchData();var onSidebarToggle=function onSidebarToggle(){return dispatch(toggleSidebar());};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),menuData=_useState2[0],setMenuData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),allowed=_useState4[0],setAllowed=_useState4[1];var user=useSelector(function(state){return state.login[\"user\"];});useEffect(function(){if(user&&user[\"role\"]==='Doctor'||user&&user[\"role\"]==='Nurse'){console.log(user,\"this\");setAllowed(true);}else{setAllowed(false);}function fetchMenuData(){return _fetchMenuData.apply(this,arguments);}function _fetchMenuData(){_fetchMenuData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios('/data/menu.json');case 2:result=_context.sent;setMenuData(result.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchMenuData.apply(this,arguments);}fetchMenuData().catch(function(err){return console.log('Server Error',err);});});if(!user){return/*#__PURE__*/React.createElement(Redirect,{to:\"/public/sign-in\"});}var nav=/*#__PURE__*/React.createElement(Navbar,{boxed:settings.boxed,color:settings.topbarColor,background:settings.topbarBg,orientation:\"horizontal\"},/*#__PURE__*/React.createElement(\"button\",{className:\"no-style navbar-toggle d-lg-none\",onClick:onSidebarToggle},/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null)),/*#__PURE__*/React.createElement(Actions,null),/*#__PURE__*/React.createElement(NavLoader,{loaded:pageData.loaded,type:'top-bar'}));var sideNav=/*#__PURE__*/React.createElement(Navbar,{onClickOutside:onSidebarToggle,opened:settings.sidebarOpened,color:settings.sidebarColor,background:settings.sidebarBg,orientation:\"vertical\"},/*#__PURE__*/React.createElement(Menu,{onCloseSidebar:onSidebarToggle,opened:settings.sidebarOpened,orientation:\"vertical\",data:menuData}),allowed&&/*#__PURE__*/React.createElement(AddPatient,null),/*#__PURE__*/React.createElement(Menu,{className:\"assistant-menu\",orientation:\"vertical\"},/*#__PURE__*/React.createElement(NavLink,{className:\"link\",to:\"/vertical/settings\",activeClassName:\"active\",replace:true},/*#__PURE__*/React.createElement(\"span\",{className:\"link-icon icofont icofont-ui-settings\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"link-text\"},\"Settings\")),/*#__PURE__*/React.createElement(NavLink,{className:\"link\",to:\"/vertical/default-dashboard\",activeClassName:\"active\",replace:true},/*#__PURE__*/React.createElement(\"span\",{className:\"link-icon icofont icofont-question-square\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"link-text\"},\"FAQ & Support\"))),/*#__PURE__*/React.createElement(NavLoader,{loaded:pageData.loaded,type:'nav-bar'}));return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BaseLayout,{orientation:\"vertical\",nav:nav,sideNav:sideNav},children));};export default VerticalLayout;","map":{"version":3,"sources":["/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/layout/vertical/Vertical.tsx"],"names":["React","useEffect","useState","axios","NavLink","Redirect","BaseLayout","Navbar","Menu","NavLoader","AddPatient","Actions","toggleSidebar","useSearchData","useDispatch","useSelector","VerticalLayout","children","dispatch","settings","state","pageData","searchData","onSidebarToggle","menuData","setMenuData","allowed","setAllowed","user","login","console","log","fetchMenuData","result","data","catch","err","nav","boxed","topbarColor","topbarBg","loaded","sideNav","sidebarOpened","sidebarColor","sidebarBg"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport axios from 'axios';\nimport { NavLink, Redirect } from 'react-router-dom';\n\nimport BaseLayout from '../base/BaseLayout';\n\nimport Logo from '../components/logo/Logo';\nimport Navbar from '../components/navbar/Navbar';\nimport LogoSvg from './../../assets/img/logo.svg';\n\nimport Menu from '../components/menu/Menu';\nimport Search from '../components/search/Search';\nimport NavLoader from '../components/navbar/NavLoader';\nimport AddPatient from '../components/patients/AddPatient';\n\nimport Actions from '../components/actions/Actions';\nimport { toggleSidebar } from '../../redux/settings/actions';\n\nimport { useSearchData } from '../../hooks/useSearchData';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { IAppState } from '../../interfaces/app-state';\n\nimport './Vertical.scss';\nimport { AppState } from '../../redux/store';\n\ntype Props = {\n  children: any;\n};\n\nconst VerticalLayout = ({ children }: Props) => {\n  const dispatch = useDispatch();\n\n  const settings = useSelector((state: IAppState) => state.settings);\n  const pageData = useSelector((state: IAppState) => state.pageData);\n\n  const searchData = useSearchData();\n\n  const onSidebarToggle = () => dispatch(toggleSidebar());\n\n  const [menuData, setMenuData] = useState([]);\n  const [allowed, setAllowed] = useState(false);\n  const user=useSelector((state:AppState)=>state.login[\"user\"]);\n\n  useEffect(() => {\n\n    if(user && user[\"role\"]==='Doctor' || user && user[\"role\"]==='Nurse'){\n      console.log(user,\"this\")\n   setAllowed(true)\n    } else{\nsetAllowed(false)\n    }\n    async function fetchMenuData() {\n      const result = await axios('/data/menu.json');\n      setMenuData(result.data);\n      \n    }\n\n    fetchMenuData().catch((err) => console.log('Server Error', err));\n  });\n\n\n  if(!user){\n    return <Redirect to=\"/public/sign-in\"/>\n   }\n\n  const nav = (\n    <Navbar\n      boxed={settings.boxed}\n      color={settings.topbarColor}\n      background={settings.topbarBg}\n      orientation='horizontal'\n    >\n      <button className='no-style navbar-toggle d-lg-none' onClick={onSidebarToggle}>\n        <span />\n        <span />\n        <span />\n      </button>\n\n      {/* <Search layout='vertical' data={searchData} /> */}\n\n      <Actions />\n\n      <NavLoader loaded={pageData.loaded} type={'top-bar'} />\n    </Navbar>\n  );\n\n  const sideNav = (\n    <Navbar\n      onClickOutside={onSidebarToggle}\n      opened={settings.sidebarOpened}\n      color={settings.sidebarColor}\n      background={settings.sidebarBg}\n      orientation='vertical'\n    >\n      {/* <Logo src={LogoSvg} /> */}\n\n      <Menu\n        onCloseSidebar={onSidebarToggle}\n        opened={settings.sidebarOpened}\n        orientation='vertical'\n        data={menuData}\n      />\n\n     {allowed && <AddPatient />}\n\n      <Menu className='assistant-menu' orientation='vertical'>\n        <NavLink className='link' to='/vertical/settings' activeClassName='active' replace>\n          <span className='link-icon icofont icofont-ui-settings' />\n\n          <span className='link-text'>Settings</span>\n        </NavLink>\n\n        <NavLink className='link' to='/vertical/default-dashboard' activeClassName='active' replace>\n          <span className='link-icon icofont icofont-question-square' />\n\n          <span className='link-text'>FAQ & Support</span>\n        </NavLink>\n\n        {}\n      </Menu>\n\n      <NavLoader loaded={pageData.loaded} type={'nav-bar'} />\n    </Navbar>\n  );\n\n  return (\n    <>\n      <BaseLayout orientation='vertical' nav={nav} sideNav={sideNav}>\n        {children}\n      </BaseLayout>\n    </>\n  );\n};\n\nexport default VerticalLayout;\n"]},"metadata":{},"sourceType":"module"}