{"ast":null,"code":"import\"antd/es/button/style\";import _Button from\"antd/es/button\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import _slicedToArray from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useState}from'react';import{useFormik}from'formik';import*as Yup from'yup';import ImageLoader from'../../../layout/components/patients/ImageLoader';import{hasErrorFactory}from'../../../utils/hasError';var defaultSubmitText='Add Appointment';var emptyAppointment={date:'',doctor:'',email:'',fromTo:'',img:'',injury:'',name:'',number:'',from:'',to:''};var appointmentSchema=Yup.object().shape({date:Yup.string().required(),doctor:Yup.string().required(),email:Yup.string().required(),injury:Yup.string().required(),name:Yup.string().required(),number:Yup.string().required(),from:Yup.string().required(),to:Yup.string().required()});var AppointmentForm=function AppointmentForm(_ref){var _ref$submitText=_ref.submitText,submitText=_ref$submitText===void 0?defaultSubmitText:_ref$submitText,_ref$appointment=_ref.appointment,appointment=_ref$appointment===void 0?emptyAppointment:_ref$appointment,_onSubmit=_ref.onSubmit,onCancel=_ref.onCancel;var _useFormik=useFormik({validationSchema:appointmentSchema,initialValues:appointment,onSubmit:function onSubmit(form){_onSubmit(_objectSpread(_objectSpread({},form),{},{fromTo:\"\".concat(form.from,\" - \").concat(form.to),img:img}));resetForm();}}),handleSubmit=_useFormik.handleSubmit,handleChange=_useFormik.handleChange,handleBlur=_useFormik.handleBlur,values=_useFormik.values,setValues=_useFormik.setValues,isValid=_useFormik.isValid,errors=_useFormik.errors,touched=_useFormik.touched,resetForm=_useFormik.resetForm;var _values$fromTo$split=values.fromTo.split('-'),_values$fromTo$split2=_slicedToArray(_values$fromTo$split,2),from=_values$fromTo$split2[0],to=_values$fromTo$split2[1];var _useState=useState(values.img),_useState2=_slicedToArray(_useState,2),img=_useState2[0],setImg=_useState2[1];useEffect(function(){setValues(_objectSpread(_objectSpread({},values),{},{from:from,to:to}));},[appointment]);var handleImageLoad=function handleImageLoad(image){setImg(image);};var handleCancel=function handleCancel(){resetForm();onCancel();};var hasError=hasErrorFactory(touched,errors);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(ImageLoader,{onLoad:handleImageLoad,src:img})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(_Input,{name:\"name\",placeholder:\"Name\",onBlur:handleBlur,onChange:handleChange,defaultValue:values.name,className:hasError('name')})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(_Input,{defaultValue:values.doctor,placeholder:\"Doctor\",onBlur:handleBlur,name:\"doctor\",onChange:handleChange,className:hasError('doctor')})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(_Input,{defaultValue:values.email,placeholder:\"Email\",name:\"email\",type:\"email\",onBlur:handleBlur,onChange:handleChange,className:hasError('email')})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(_Input,{defaultValue:values.date,placeholder:\"Date\",name:\"date\",onChange:handleChange,onBlur:handleBlur,className:hasError('date')})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(_Input,{name:\"from\",placeholder:\"From\",defaultValue:from,onChange:handleChange,onBlur:handleBlur,className:hasError('from')}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(_Input,{name:\"to\",placeholder:\"To\",defaultValue:to,onChange:handleChange,onBlur:handleBlur,className:hasError('to')})))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(_Input,{type:\"phone\",name:\"number\",onBlur:handleBlur,placeholder:\"Number\",onChange:handleChange,defaultValue:values.number,className:hasError('number')})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(_Input,{name:\"injury\",placeholder:\"Injury\",onChange:handleChange,defaultValue:values.injury,onBlur:handleBlur,className:hasError('injury')})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between buttons-list settings-actions\"},/*#__PURE__*/React.createElement(_Button,{danger:true,onClick:handleCancel},\"Cancel\"),/*#__PURE__*/React.createElement(_Button,{disabled:!isValid,type:\"primary\",htmlType:\"submit\"},submitText))));};export default AppointmentForm;","map":{"version":3,"sources":["/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/pages/dashboards/appointments/AppointmentForm.tsx"],"names":["React","useEffect","useState","useFormik","Yup","ImageLoader","hasErrorFactory","defaultSubmitText","emptyAppointment","date","doctor","email","fromTo","img","injury","name","number","from","to","appointmentSchema","object","shape","string","required","AppointmentForm","submitText","appointment","onSubmit","onCancel","validationSchema","initialValues","form","resetForm","handleSubmit","handleChange","handleBlur","values","setValues","isValid","errors","touched","split","setImg","handleImageLoad","image","handleCancel","hasError"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { Button, Input } from 'antd';\n\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\n\nimport ImageLoader from '../../../layout/components/patients/ImageLoader';\nimport { hasErrorFactory } from '../../../utils/hasError';\n\nimport { IAppointment } from '../../../interfaces/patient';\n\ntype Props = {\n  appointment?: IAppointment;\n  onSubmit: (appointment: IAppointment) => void;\n  onCancel: () => void;\n  submitText?: string;\n};\n\nconst defaultSubmitText = 'Add Appointment';\nconst emptyAppointment = {\n  date: '',\n  doctor: '',\n  email: '',\n  fromTo: '',\n  img: '',\n  injury: '',\n  name: '',\n  number: '',\n  from: '',\n  to: ''\n};\n\nconst appointmentSchema = Yup.object().shape({\n  date: Yup.string().required(),\n  doctor: Yup.string().required(),\n  email: Yup.string().required(),\n  injury: Yup.string().required(),\n  name: Yup.string().required(),\n  number: Yup.string().required(),\n  from: Yup.string().required(),\n  to: Yup.string().required()\n});\n\nconst AppointmentForm = ({\n  submitText = defaultSubmitText,\n  appointment = emptyAppointment,\n  onSubmit,\n  onCancel\n}: Props) => {\n  const {\n    handleSubmit,\n    handleChange,\n    handleBlur,\n    values,\n    setValues,\n    isValid,\n    errors,\n    touched,\n    resetForm\n  } = useFormik<IAppointment>({\n    validationSchema: appointmentSchema,\n    initialValues: appointment,\n    onSubmit: (form) => {\n      onSubmit({ ...form, fromTo: `${form.from} - ${form.to}`, img });\n      resetForm();\n    }\n  });\n  const [from, to] = values.fromTo.split('-');\n  const [img, setImg] = useState(values.img);\n\n  useEffect(() => {\n    setValues({ ...values, from, to });\n  }, [appointment]);\n\n  const handleImageLoad = (image) => {\n    setImg(image);\n  };\n\n  const handleCancel = () => {\n    resetForm();\n    onCancel();\n  };\n\n  const hasError = hasErrorFactory(touched, errors);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <div className='form-group'>\n          <ImageLoader onLoad={handleImageLoad} src={img} />\n        </div>\n\n        <div className='form-group'>\n          <Input\n            name='name'\n            placeholder='Name'\n            onBlur={handleBlur}\n            onChange={handleChange}\n            defaultValue={values.name}\n            className={hasError('name')}\n          />\n        </div>\n\n        <div className='form-group'>\n          <Input\n            defaultValue={values.doctor}\n            placeholder='Doctor'\n            onBlur={handleBlur}\n            name='doctor'\n            onChange={handleChange}\n            className={hasError('doctor')}\n          />\n        </div>\n\n        <div className='form-group'>\n          <Input\n            defaultValue={values.email}\n            placeholder='Email'\n            name='email'\n            type='email'\n            onBlur={handleBlur}\n            onChange={handleChange}\n            className={hasError('email')}\n          />\n        </div>\n\n        <div className='form-group'>\n          <Input\n            defaultValue={values.date}\n            placeholder='Date'\n            name='date'\n            onChange={handleChange}\n            onBlur={handleBlur}\n            className={hasError('date')}\n          />\n        </div>\n\n        <div className='row'>\n          <div className='col-sm-12 col-md-6'>\n            <div className='form-group'>\n              <Input\n                name='from'\n                placeholder='From'\n                defaultValue={from}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                className={hasError('from')}\n              />\n            </div>\n          </div>\n\n          <div className='col-sm-12 col-md-6'>\n            <div className='form-group'>\n              <Input\n                name='to'\n                placeholder='To'\n                defaultValue={to}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                className={hasError('to')}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className='form-group'>\n          <Input\n            type='phone'\n            name='number'\n            onBlur={handleBlur}\n            placeholder='Number'\n            onChange={handleChange}\n            defaultValue={values.number}\n            className={hasError('number')}\n          />\n        </div>\n\n        <div className='form-group'>\n          <Input\n            name='injury'\n            placeholder='Injury'\n            onChange={handleChange}\n            defaultValue={values.injury}\n            onBlur={handleBlur}\n            className={hasError('injury')}\n          />\n        </div>\n\n        <div className='d-flex justify-content-between buttons-list settings-actions'>\n          <Button danger onClick={handleCancel}>\n            Cancel\n          </Button>\n\n          <Button disabled={!isValid} type='primary' htmlType='submit'>\n            {submitText}\n          </Button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default AppointmentForm;\n"]},"metadata":{},"sourceType":"module"}