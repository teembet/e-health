{"ast":null,"code":"import\"antd/es/button/style\";import _Button from\"antd/es/button\";import\"antd/es/switch/style\";import _Switch from\"antd/es/switch\";import\"antd/es/select/style\";import _Select from\"antd/es/select\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import _defineProperty from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import React,{useState}from'react';import*as userActions from'../../redux/auth/actions';import{useDispatch,useSelector}from\"react-redux\";import PublicLayout from'../../layout/public/Public';import{Link}from'react-router-dom';import{useForm}from'antd/es/form/Form';import{navigateHome}from'../../utils/naviagate-home';var Item=_Form.Item;var SignUp=function SignUp(){var users=useSelector(function(state){return state.registration;});var _useForm=useForm(),_useForm2=_slicedToArray(_useForm,1),form=_useForm2[0];var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),inputValues=_useState2[0],setInputValues=_useState2[1];// const [users,setUsers]=useState(\"\")\n//   useEffect(() => {\n//     // When state will be updated(in our case, when items will be fetched), \n//     // we will update local component state and force component to rerender \n//     // with new data.\n// })\nvar signUp=function signUp(){var name=inputValues.name,email=inputValues.email,password=inputValues.password,role=inputValues.role;if(email!==''&&password!==''&&name!==''&&role!==''){form.validateFields().then(function(){var user=users.find(function(x){return x.email===email;});if(user&&user.email===email){console.log(\"user already exist\");//toast error here\n}else{dispatch(userActions.register(inputValues));dispatch(userActions.login(inputValues));// dispatch(userActions.createUser(inputValues))\n//  setUsers((store.getState().registration))\nnavigateHome();}}).catch(function(error){return console.log(error);});}else{//toast input error\n}};var handleGenderSelect=function handleGenderSelect(value){setInputValues(_objectSpread(_objectSpread({},inputValues),{},{\"role\":value}));};var handleChange=function handleChange(e){setInputValues(_objectSpread(_objectSpread({},inputValues),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/React.createElement(PublicLayout,{bgImg:\"\".concat(window.origin,\"/content/register-page.jpg\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"mt-0 mb-1\"},\"Sign up\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-color-200\"},\"Create your Account\"),/*#__PURE__*/React.createElement(_Form,{form:form,layout:\"vertical\",className:\"mb-5\"},/*#__PURE__*/React.createElement(Item,{name:\"name\",rules:[{required:true,message:/*#__PURE__*/React.createElement(React.Fragment,null)}]},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Name\",onChange:handleChange,name:\"name\"})),/*#__PURE__*/React.createElement(Item,{name:\"email\",rules:[{required:true,message:/*#__PURE__*/React.createElement(React.Fragment,null)},{type:'email',message:/*#__PURE__*/React.createElement(React.Fragment,null)}]},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Email address\",type:\"email\",onChange:handleChange,name:\"email\"})),/*#__PURE__*/React.createElement(Item,{name:\"password\",rules:[{required:true,message:/*#__PURE__*/React.createElement(React.Fragment,null)}]},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Password\",type:\"password\",onChange:handleChange,name:\"password\"})),/*#__PURE__*/React.createElement(_Select,{placeholder:\"Role\",onChange:handleGenderSelect// className={hasError('gender')}\n// onBlur={() => setFieldTouched('gender')}\n},/*#__PURE__*/React.createElement(_Select.Option,{value:\"Doctor\"},\"Doctor\"),/*#__PURE__*/React.createElement(_Select.Option,{value:\"Nurse\"},\"Nurse\"),/*#__PURE__*/React.createElement(_Select.Option,{value:\"Pharmacy\"},\"Pharmacy\"),/*#__PURE__*/React.createElement(_Select.Option,{value:\"Lab\"},\"Lab\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center mb-4 mt-5\"},/*#__PURE__*/React.createElement(_Switch,{defaultChecked:true}),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"ml-2\"},\"I agree to the Terms and Privacy.\")),/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:signUp,icon:/*#__PURE__*/React.createElement(\"span\",{className:\"icofont icofont-plus mr-2\",style:{fontSize:'1.2rem'}})},\"Register\")),/*#__PURE__*/React.createElement(\"p\",null,\"Have an account? \",/*#__PURE__*/React.createElement(Link,{to:\"sign-in\"},\"Sign in!\")));};export default SignUp;","map":{"version":3,"sources":["/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/pages/sessions/Sign-up.tsx"],"names":["React","useState","userActions","useDispatch","useSelector","PublicLayout","Link","useForm","navigateHome","Item","SignUp","users","state","registration","form","dispatch","inputValues","setInputValues","signUp","name","email","password","role","validateFields","then","user","find","x","console","log","register","login","catch","error","handleGenderSelect","value","handleChange","e","target","window","origin","required","message","type","fontSize"],"mappings":"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","sourcesContent":["import React,{ChangeEvent,useState,useEffect} from 'react';\nimport * as userActions  from '../../redux/auth/actions';\nimport { useDispatch,useSelector} from \"react-redux\";\nimport { Button, Form, Input, Switch,Select } from 'antd';\nimport PublicLayout from '../../layout/public/Public';\nimport { Link } from 'react-router-dom';\nimport { useForm } from 'antd/es/form/Form';\nimport { navigateHome } from '../../utils/naviagate-home';\nimport { AppState, store } from '../../redux/store';\nconst { Item } = Form;\n\nconst SignUp = () => {\n  const users=useSelector((state:AppState)=>state.registration)\n \nconst [form] = useForm();\n\nconst dispatch = useDispatch();\nconst [inputValues,setInputValues]=useState<IUser>()\n// const [users,setUsers]=useState(\"\")\n\n  interface IUser {\n    name:string;\n    email: string;\n    password:string;\n    role:string\n    // submitted:false;\n  }\n//   useEffect(() => {\n  \n//     // When state will be updated(in our case, when items will be fetched), \n//     // we will update local component state and force component to rerender \n//     // with new data.\n\n// })\nconst signUp = () => {\n  const { name,email, password,role } =inputValues;\n\n\n    if (email !== '' && password !== '' && name !=='' && role !=='')  {\n    form\n      .validateFields()\n      .then(() => {\n        const user=  users.find(x => x.email === email)\n        if (user && user.email===email) {\n          console.log(\"user already exist\");\n          //toast error here\n          \n        }else{\n          dispatch(userActions.register(inputValues));\n          dispatch(userActions.login(inputValues));\n         // dispatch(userActions.createUser(inputValues))\n         //  setUsers((store.getState().registration))\n     \n         \n           navigateHome();\n        }\n    \n       } )\n      .catch((error) => console.log(error));\n      }else{\n//toast input error\n      }\n  };\n  const handleGenderSelect = (value) => {\n   \n    setInputValues({...inputValues,\"role\":value});\n \n  }\n  const handleChange = (\n    e: ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>\n  ) => {\n    setInputValues({ ...inputValues,[e.target.name]: e.target.value });\n    \n  };\n\n\n  return (\n    <PublicLayout bgImg={`${window.origin}/content/register-page.jpg`}>\n      <h4 className='mt-0 mb-1'>Sign up</h4>\n      <p className='text-color-200'>Create your Account</p>\n\n      <Form form={form} layout='vertical' className='mb-5'>\n        <Item name='name' rules={[{ required: true, message:<></>}]}>\n          <Input placeholder='Name' onChange={handleChange} name='name' />\n        </Item>\n\n        <Item\n          name='email'\n          rules={[\n            { required: true, message: <></> },\n            { type: 'email', message: <></> }\n          ]}\n        >\n          <Input placeholder='Email address' type='email' onChange={handleChange} name='email' />\n        </Item>\n\n        <Item name='password' rules={[{ required: true, message: <></> }]}>\n          <Input placeholder='Password' type='password' onChange={handleChange} name='password' />\n        </Item>\n\n              <Select\n                placeholder='Role'\n          \n                onChange={handleGenderSelect}\n                // className={hasError('gender')}\n                // onBlur={() => setFieldTouched('gender')}\n              >\n                <Select.Option value='Doctor'>Doctor</Select.Option>\n                <Select.Option value='Nurse'>Nurse</Select.Option>\n                <Select.Option value='Pharmacy'>Pharmacy</Select.Option>\n                <Select.Option value='Lab'>Lab</Select.Option>\n              </Select>\n         \n\n        <div className='d-flex align-items-center mb-4 mt-5'>\n          <Switch defaultChecked /> <span className='ml-2'>I agree to the Terms and Privacy.</span>\n        </div>\n\n        <Button\n          type='primary'\n          onClick={signUp}\n          icon={<span className='icofont icofont-plus mr-2' style={{ fontSize: '1.2rem' }} />}\n        >\n          Register\n        </Button>\n      </Form>\n\n      <p>\n        Have an account? <Link to='sign-in'>Sign in!</Link>\n      </p>\n    </PublicLayout>\n  );\n};\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}