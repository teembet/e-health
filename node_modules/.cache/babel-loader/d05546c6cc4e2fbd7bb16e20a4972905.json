{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/Timbet.Ekanem/Downloads/e-health/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useEffect,useState}from'react';import axios from'axios';function fetchSearchData(){return _fetchSearchData.apply(this,arguments);}function _fetchSearchData(){_fetchSearchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios('./data/menu.json');case 2:result=_context.sent;return _context.abrupt(\"return\",result.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchSearchData.apply(this,arguments);}var hasRouting=function hasRouting(item){return!!item.routing;};var hasSub=function hasSub(item){return!!item.sub;};var getOption=function getOption(item){return{label:item.title,value:item.layout?\"/\".concat(item.layout,\"/\").concat(item.routing):item.routing};};var setSubTitle=function setSubTitle(itemTitle){return function(subItem){return _objectSpread(_objectSpread({},subItem),{},{title:\"\".concat(itemTitle,\" > \").concat(subItem.title)});};};function parseSearchData(data){var menuItems=data.filter(hasRouting);var menuItemsWithSub=data.filter(hasSub).map(function(item){return _objectSpread(_objectSpread({},item),{},{sub:item.sub.map(setSubTitle(item.title))});}).map(function(item){return item.sub;}).flat();return[].concat(_toConsumableArray(menuItems),_toConsumableArray(menuItemsWithSub)).map(getOption);}export function useSearchData(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),searchData=_useState2[0],setSearchData=_useState2[1];useEffect(function(){fetchSearchData().then(function(data){var searchData=parseSearchData(data);setSearchData(searchData);}).catch(function(err){return console.log('Server Error',err);});},[]);return searchData;}","map":{"version":3,"sources":["/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/hooks/useSearchData.tsx"],"names":["useEffect","useState","axios","fetchSearchData","result","data","hasRouting","item","routing","hasSub","sub","getOption","label","title","value","layout","setSubTitle","itemTitle","subItem","parseSearchData","menuItems","filter","menuItemsWithSub","map","flat","useSearchData","searchData","setSearchData","then","catch","err","console","log"],"mappings":"u0BAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,QAIeC,CAAAA,e,uJAAf,oKACuBD,CAAAA,KAAK,CAAC,kBAAD,CAD5B,QACQE,MADR,+CAESA,MAAM,CAACC,IAFhB,wD,kDAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,QAAqB,CAAC,CAACA,IAAI,CAACC,OAA5B,EAAnB,CACA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACF,IAAD,QAAqB,CAAC,CAACA,IAAI,CAACG,GAA5B,EAAf,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACJ,IAAD,QAAqC,CACrDK,KAAK,CAAEL,IAAI,CAACM,KADyC,CAErDC,KAAK,CAAEP,IAAI,CAACQ,MAAL,YAAkBR,IAAI,CAACQ,MAAvB,aAAiCR,IAAI,CAACC,OAAtC,EAAkDD,IAAI,CAACC,OAFT,CAArC,EAAlB,CAKA,GAAMQ,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,SAAD,QAAuB,UAACC,OAAD,wCACtCA,OADsC,MAEzCL,KAAK,WAAKI,SAAL,eAAoBC,OAAO,CAACL,KAA5B,CAFoC,IAAvB,EAApB,CAKA,QAASM,CAAAA,eAAT,CAAyBd,IAAzB,CAA+B,CAC7B,GAAMe,CAAAA,SAAS,CAAGf,IAAI,CAACgB,MAAL,CAAYf,UAAZ,CAAlB,CAEA,GAAMgB,CAAAA,gBAAgB,CAAGjB,IAAI,CAC1BgB,MADsB,CACfZ,MADe,EAEtBc,GAFsB,CAElB,SAAChB,IAAD,wCACAA,IADA,MAEHG,GAAG,CAAEH,IAAI,CAACG,GAAL,CAASa,GAAT,CAAaP,WAAW,CAACT,IAAI,CAACM,KAAN,CAAxB,CAFF,IAFkB,EAMtBU,GANsB,CAMlB,SAAChB,IAAD,QAAqBA,CAAAA,IAAI,CAACG,GAA1B,EANkB,EAOtBc,IAPsB,EAAzB,CASA,MAAO,6BAAIJ,SAAJ,qBAAkBE,gBAAlB,GAAoCC,GAApC,CAAwCZ,SAAxC,CAAP,CACD,CAED,MAAO,SAASc,CAAAA,aAAT,EAAyB,CAC9B,cAAoCxB,QAAQ,CAAC,EAAD,CAA5C,wCAAOyB,UAAP,eAAmBC,aAAnB,eAEA3B,SAAS,CAAC,UAAM,CACdG,eAAe,GACZyB,IADH,CACQ,SAACvB,IAAD,CAAU,CACd,GAAMqB,CAAAA,UAAU,CAAGP,eAAe,CAACd,IAAD,CAAlC,CACAsB,aAAa,CAACD,UAAD,CAAb,CACD,CAJH,EAKGG,KALH,CAKS,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BF,GAA5B,CAAT,EALT,EAMD,CAPQ,CAON,EAPM,CAAT,CASA,MAAOJ,CAAAA,UAAP,CACD","sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nimport { IMenuItem, IMenuItemSub } from '../interfaces/main-menu';\n\nasync function fetchSearchData() {\n  const result = await axios('./data/menu.json');\n  return result.data;\n}\n\nconst hasRouting = (item: IMenuItem) => !!item.routing;\nconst hasSub = (item: IMenuItem) => !!item.sub;\n\nconst getOption = (item: IMenuItem | IMenuItemSub) => ({\n  label: item.title,\n  value: item.layout ? `/${item.layout}/${item.routing}` : item.routing\n});\n\nconst setSubTitle = (itemTitle: string) => (subItem: IMenuItemSub) => ({\n  ...subItem,\n  title: `${itemTitle} > ${subItem.title}`\n});\n\nfunction parseSearchData(data) {\n  const menuItems = data.filter(hasRouting);\n\n  const menuItemsWithSub = data\n    .filter(hasSub)\n    .map((item: IMenuItem) => ({\n      ...item,\n      sub: item.sub.map(setSubTitle(item.title))\n    }))\n    .map((item: IMenuItem) => item.sub)\n    .flat();\n\n  return [...menuItems, ...menuItemsWithSub].map(getOption);\n}\n\nexport function useSearchData() {\n  const [searchData, setSearchData] = useState([]);\n\n  useEffect(() => {\n    fetchSearchData()\n      .then((data) => {\n        const searchData = parseSearchData(data);\n        setSearchData(searchData);\n      })\n      .catch((err) => console.log('Server Error', err));\n  }, []);\n\n  return searchData;\n}\n"]},"metadata":{},"sourceType":"module"}