{"ast":null,"code":"import \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/switch/style\";\nimport _Switch from \"antd/es/switch\";\nimport \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nvar _jsxFileName = \"/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/pages/sessions/Sign-up.tsx\";\nimport React, { useState } from 'react';\nimport * as userActions from '../../redux/auth/actions';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport PublicLayout from '../../layout/public/Public';\nimport { Link } from 'react-router-dom';\nimport { useForm } from 'antd/es/form/Form';\nimport { navigateHome } from '../../utils/naviagate-home';\nconst {\n  Item\n} = _Form;\n\nconst SignUp = () => {\n  const users = useSelector(state => state.registration);\n  const [form] = useForm();\n  const dispatch = useDispatch();\n  const [inputValues, setInputValues] = useState(); // const [users,setUsers]=useState(\"\")\n\n  //   useEffect(() => {\n  //     // When state will be updated(in our case, when items will be fetched), \n  //     // we will update local component state and force component to rerender \n  //     // with new data.\n  // })\n  const signUp = () => {\n    const {\n      name,\n      email,\n      password,\n      role\n    } = inputValues;\n\n    if (email !== '' && password !== '' && name !== '' && role !== '') {\n      form.validateFields().then(() => {\n        const user = users.find(x => x.email === email);\n\n        if (user && user.email === email) {\n          console.log(\"user already exist\"); //toast error here\n        } else {\n          dispatch(userActions.register(inputValues));\n          dispatch(userActions.login(inputValues)); // dispatch(userActions.createUser(inputValues))\n          //  setUsers((store.getState().registration))\n\n          navigateHome();\n        }\n      }).catch(error => console.log(error));\n    } else {//toast input error\n    }\n  };\n\n  const handleGenderSelect = value => {\n    setInputValues({ ...inputValues,\n      \"role\": value\n    });\n  };\n\n  const handleChange = e => {\n    setInputValues({ ...inputValues,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(PublicLayout, {\n    bgImg: `${window.origin}/content/register-page.jpg`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mt-0 mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"Sign up\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-color-200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"Create your Account\"), /*#__PURE__*/React.createElement(_Form, {\n    form: form,\n    layout: \"vertical\",\n    className: \"mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Item, {\n    name: \"name\",\n    rules: [{\n      required: true,\n      message: /*#__PURE__*/React.createElement(React.Fragment, null)\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    placeholder: \"Name\",\n    onChange: handleChange,\n    name: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Item, {\n    name: \"email\",\n    rules: [{\n      required: true,\n      message: /*#__PURE__*/React.createElement(React.Fragment, null)\n    }, {\n      type: 'email',\n      message: /*#__PURE__*/React.createElement(React.Fragment, null)\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    placeholder: \"Email address\",\n    type: \"email\",\n    onChange: handleChange,\n    name: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Item, {\n    name: \"password\",\n    rules: [{\n      required: true,\n      message: /*#__PURE__*/React.createElement(React.Fragment, null)\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    placeholder: \"Password\",\n    type: \"password\",\n    onChange: handleChange,\n    name: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(_Select, {\n    placeholder: \"Role\",\n    onChange: handleGenderSelect // className={hasError('gender')}\n    // onBlur={() => setFieldTouched('gender')}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"Doctor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"Doctor\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"Nurse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, \"Nurse\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"Pharmacy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, \"Pharmacy\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"Lab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, \"Lab\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center mb-4 mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Switch, {\n    defaultChecked: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 37\n    }\n  }, \"I agree to the Terms and Privacy.\")), /*#__PURE__*/React.createElement(_Button, {\n    type: \"primary\",\n    onClick: signUp,\n    icon: /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icofont icofont-plus mr-2\",\n      style: {\n        fontSize: '1.2rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, \"Have an account? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"sign-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 26\n    }\n  }, \"Sign in!\")));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/pages/sessions/Sign-up.tsx"],"names":["React","useState","userActions","useDispatch","useSelector","PublicLayout","Link","useForm","navigateHome","Item","SignUp","users","state","registration","form","dispatch","inputValues","setInputValues","signUp","name","email","password","role","validateFields","then","user","find","x","console","log","register","login","catch","error","handleGenderSelect","value","handleChange","e","target","window","origin","required","message","type","fontSize"],"mappings":"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","sourcesContent":["import React,{ChangeEvent,useState,useEffect} from 'react';\nimport * as userActions  from '../../redux/auth/actions';\nimport { useDispatch,useSelector} from \"react-redux\";\nimport { Button, Form, Input, Switch,Select } from 'antd';\nimport PublicLayout from '../../layout/public/Public';\nimport { Link } from 'react-router-dom';\nimport { useForm } from 'antd/es/form/Form';\nimport { navigateHome } from '../../utils/naviagate-home';\nimport { AppState, store } from '../../redux/store';\nconst { Item } = Form;\n\nconst SignUp = () => {\n  const users=useSelector((state:AppState)=>state.registration)\n \nconst [form] = useForm();\n\nconst dispatch = useDispatch();\nconst [inputValues,setInputValues]=useState<IUser>()\n// const [users,setUsers]=useState(\"\")\n\n  interface IUser {\n    name:string;\n    email: string;\n    password:string;\n    role:string\n    // submitted:false;\n  }\n//   useEffect(() => {\n  \n//     // When state will be updated(in our case, when items will be fetched), \n//     // we will update local component state and force component to rerender \n//     // with new data.\n\n// })\nconst signUp = () => {\n  const { name,email, password,role } =inputValues;\n\n\n    if (email !== '' && password !== '' && name !=='' && role !=='')  {\n    form\n      .validateFields()\n      .then(() => {\n        const user=  users.find(x => x.email === email)\n        if (user&&user.email===email) {\n          console.log(\"user already exist\");\n          //toast error here\n          \n        }else{\n          dispatch(userActions.register(inputValues));\n          dispatch(userActions.login(inputValues));\n         // dispatch(userActions.createUser(inputValues))\n         //  setUsers((store.getState().registration))\n     \n         \n           navigateHome();\n        }\n    \n       } )\n      .catch((error) => console.log(error));\n      }else{\n//toast input error\n      }\n  };\n  const handleGenderSelect = (value) => {\n   \n    setInputValues({...inputValues,\"role\":value});\n \n  }\n  const handleChange = (\n    e: ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>\n  ) => {\n    setInputValues({ ...inputValues,[e.target.name]: e.target.value });\n    \n  };\n\n\n  return (\n    <PublicLayout bgImg={`${window.origin}/content/register-page.jpg`}>\n      <h4 className='mt-0 mb-1'>Sign up</h4>\n      <p className='text-color-200'>Create your Account</p>\n\n      <Form form={form} layout='vertical' className='mb-5'>\n        <Item name='name' rules={[{ required: true, message:<></>}]}>\n          <Input placeholder='Name' onChange={handleChange} name='name' />\n        </Item>\n\n        <Item\n          name='email'\n          rules={[\n            { required: true, message: <></> },\n            { type: 'email', message: <></> }\n          ]}\n        >\n          <Input placeholder='Email address' type='email' onChange={handleChange} name='email' />\n        </Item>\n\n        <Item name='password' rules={[{ required: true, message: <></> }]}>\n          <Input placeholder='Password' type='password' onChange={handleChange} name='password' />\n        </Item>\n\n              <Select\n                placeholder='Role'\n          \n                onChange={handleGenderSelect}\n                // className={hasError('gender')}\n                // onBlur={() => setFieldTouched('gender')}\n              >\n                <Select.Option value='Doctor'>Doctor</Select.Option>\n                <Select.Option value='Nurse'>Nurse</Select.Option>\n                <Select.Option value='Pharmacy'>Pharmacy</Select.Option>\n                <Select.Option value='Lab'>Lab</Select.Option>\n              </Select>\n         \n\n        <div className='d-flex align-items-center mb-4 mt-5'>\n          <Switch defaultChecked /> <span className='ml-2'>I agree to the Terms and Privacy.</span>\n        </div>\n\n        <Button\n          type='primary'\n          onClick={signUp}\n          icon={<span className='icofont icofont-plus mr-2' style={{ fontSize: '1.2rem' }} />}\n        >\n          Register\n        </Button>\n      </Form>\n\n      <p>\n        Have an account? <Link to='sign-in'>Sign in!</Link>\n      </p>\n    </PublicLayout>\n  );\n};\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}