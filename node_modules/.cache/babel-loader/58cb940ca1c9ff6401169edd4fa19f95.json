{"ast":null,"code":"import { ADD_PATIENT, DELETE_PATIENT, EDIT_PATIENT, SET_PATIENTS } from './types';\nconst initialState = [];\nexport function patientsReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_PATIENTS:\n      {\n        return [...action.payload];\n      }\n\n    case EDIT_PATIENT:\n      {\n        const editedPatients = state.map(el => el.id !== action.payload.id ? el : action.payload);\n        return [...editedPatients];\n      }\n\n    case ADD_PATIENT:\n      {\n        const id = getNewId(state);\n        return [{ ...action.payload,\n          id\n        }, ...state];\n      }\n\n    case DELETE_PATIENT:\n      {\n        const patients = state.filter(el => el.id !== action.id);\n        return [...patients];\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nfunction getNewId(patients) {\n  return patients.map(patient => patient.id).map(id => parseInt(id)).reduce((largest, id) => Math.max(largest, id + 1), -1).toString();\n}","map":{"version":3,"sources":["/Users/Timbet.Ekanem/Downloads/e-health/frontend/src/redux/patients/reducer.ts"],"names":["ADD_PATIENT","DELETE_PATIENT","EDIT_PATIENT","SET_PATIENTS","initialState","patientsReducer","state","action","type","payload","editedPatients","map","el","id","getNewId","patients","filter","patient","parseInt","reduce","largest","Math","max","toString"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,cAAtB,EAAsCC,YAAtC,EAAqEC,YAArE,QAAyF,SAAzF;AAGA,MAAMC,YAAwB,GAAG,EAAjC;AAEA,OAAO,SAASC,eAAT,GAGO;AAAA,MAFZC,KAEY,uEAFQF,YAER;AAAA,MADZG,MACY;;AACZ,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKL,YAAL;AAAmB;AACjB,eAAO,CAAC,GAAGI,MAAM,CAACE,OAAX,CAAP;AACD;;AAED,SAAKP,YAAL;AAAmB;AACjB,cAAMQ,cAAc,GAAGJ,KAAK,CAACK,GAAN,CAAWC,EAAD,IAASA,EAAE,CAACC,EAAH,KAAUN,MAAM,CAACE,OAAP,CAAeI,EAAzB,GAA8BD,EAA9B,GAAmCL,MAAM,CAACE,OAA7D,CAAvB;AAEA,eAAO,CAAC,GAAGC,cAAJ,CAAP;AACD;;AAED,SAAKV,WAAL;AAAkB;AAChB,cAAMa,EAAE,GAAGC,QAAQ,CAACR,KAAD,CAAnB;AAEN,eAAO,CAAC,EAAE,GAAGC,MAAM,CAACE,OAAZ;AAAqBI,UAAAA;AAArB,SAAD,EAA4B,GAAGP,KAA/B,CAAP;AAAkD;;AAE9C,SAAKL,cAAL;AAAqB;AACnB,cAAMc,QAAQ,GAAGT,KAAK,CAACU,MAAN,CAAcJ,EAAD,IAAQA,EAAE,CAACC,EAAH,KAAUN,MAAM,CAACM,EAAtC,CAAjB;AACA,eAAO,CAAC,GAAGE,QAAJ,CAAP;AACD;;AAED;AAAS;AACP,eAAOT,KAAP;AACD;AAvBH;AAyBD;;AAED,SAASQ,QAAT,CAAkBC,QAAlB,EAAwC;AACtC,SAAOA,QAAQ,CACZJ,GADI,CACCM,OAAD,IAAaA,OAAO,CAACJ,EADrB,EAEJF,GAFI,CAECE,EAAD,IAAQK,QAAQ,CAACL,EAAD,CAFhB,EAGJM,MAHI,CAGG,CAACC,OAAD,EAAUP,EAAV,KAAiBQ,IAAI,CAACC,GAAL,CAASF,OAAT,EAAkBP,EAAE,GAAG,CAAvB,CAHpB,EAG+C,CAAC,CAHhD,EAIJU,QAJI,EAAP;AAKD","sourcesContent":["import { ADD_PATIENT, DELETE_PATIENT, EDIT_PATIENT, PatientsActions, SET_PATIENTS } from './types';\nimport { IPatient } from '../../interfaces/patient';\n\nconst initialState: IPatient[] = [];\n\nexport function patientsReducer(\n  state: IPatient[] = initialState,\n  action: PatientsActions\n): IPatient[] {\n  switch (action.type) {\n    case SET_PATIENTS: {\n      return [...action.payload];\n    }\n\n    case EDIT_PATIENT: {\n      const editedPatients = state.map((el) => (el.id !== action.payload.id ? el : action.payload));\n\n      return [...editedPatients];\n    }\n\n    case ADD_PATIENT: {\n      const id = getNewId(state);\n      \nreturn [{ ...action.payload, id }, ...state];    }\n\n    case DELETE_PATIENT: {\n      const patients = state.filter((el) => el.id !== action.id);\n      return [...patients];\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nfunction getNewId(patients: IPatient[]) {\n  return patients\n    .map((patient) => patient.id)\n    .map((id) => parseInt(id))\n    .reduce((largest, id) => Math.max(largest, id + 1), -1)\n    .toString();\n}\n"]},"metadata":{},"sourceType":"module"}